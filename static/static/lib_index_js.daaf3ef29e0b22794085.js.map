{"version":3,"file":"lib_index_js.daaf3ef29e0b22794085.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAA0D;AACgD;AACzD;AACc;AACtB;AACb;AAC5B;AACA;AACA;AACA;AACA,kCAAkC,mDAAM;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,mDAAM;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,oCAAoC,gEAAc;AACzD;AACA,aAAa,gEAAU;AACvB;AACA;AACA;AACA,gBAAgB,qEAAmB,GAAG,aAAa;AACnD,gBAAgB,iEAAe,GAAG,cAAc;AAChD;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,+DAAa;AACrC;AACA,KAAK;AACL,4BAA4B,+DAAa;AACzC;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,SAAS;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,gEAAc,GAAG,SAAS;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,KAAK;AACL,sBAAsB,8BAA8B;AACpD,sBAAsB,2CAA2C;AACjE;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,iEAAe,EAAE,oEAAe,EAAE,yEAAgB,EAAE,2DAAS;AAC5E;AACA;AACA,iEAAe,SAAS,EAAC;;;;;;;;;;;;;;;;;;;;;;;;;ACrKzB;AACsH;AAC7B;AACO;AACzC;AACA;AACvD,8BAA8B,mFAA2B,CAAC,wGAAqC;AAC/F,yCAAyC,sFAA+B,CAAC,8CAA6B;AACtG,yCAAyC,sFAA+B,CAAC,kDAA6B;AACtG;AACA,iDAAiD,2EAA2E,oEAAoE,GAAG,8BAA8B,iBAAiB,gBAAgB,sBAAsB,6BAA6B,GAAG,qBAAqB,iDAAiD,6BAA6B,GAAG,kBAAkB,0CAA0C,6BAA6B,GAAG,SAAS,kFAAkF,YAAY,aAAa,OAAO,KAAK,UAAU,UAAU,YAAY,aAAa,OAAO,KAAK,YAAY,aAAa,OAAO,KAAK,YAAY,aAAa,iCAAiC,6CAA6C,sCAAsC,GAAG,8BAA8B,iBAAiB,gBAAgB,sBAAsB,6BAA6B,GAAG,qBAAqB,iDAAiD,6BAA6B,GAAG,kBAAkB,0CAA0C,6BAA6B,GAAG,qBAAqB;AACprC;AACA,iEAAe,uBAAuB,EAAC;;;;;;;;;;;;;;;;ACZvC,iEAAe,qBAAuB,yCAAyC;;;;;;;;;;;;;;;;;;ACAU;AACzF,YAAuF;;AAEvF;;AAEA;AACA;;AAEA,aAAa,0GAAG,CAAC,mFAAO;;;;AAIxB,iEAAe,0FAAc,MAAM;;;;;;;;;;ACZnC","sources":["webpack://jupyterlab-prodigy/./lib/index.js","webpack://jupyterlab-prodigy/./style/index.css","webpack://jupyterlab-prodigy/./style/icon.png","webpack://jupyterlab-prodigy/./style/index.css?b7f0","webpack://jupyterlab-prodigy/./style/docs.svg"],"sourcesContent":["import { ILayoutRestorer } from '@jupyterlab/application';\nimport { Dialog, ICommandPalette, MainAreaWidget, showDialog, WidgetTracker } from '@jupyterlab/apputils';\nimport { ILauncher } from '@jupyterlab/launcher';\nimport { ISettingRegistry } from '@jupyterlab/settingregistry';\nimport { Widget } from '@lumino/widgets';\nimport '../style/index.css';\nconst defaultProdigyUrl = 'http://localhost:8080';\nconst prodigyDocsUrl = 'https://prodi.gy/docs';\nconst prodigyIconClass = 'jp-prodigyIcon';\nconst prodigyDocsIconClass = 'jp-docsIcon';\nclass ProdigyIFrameWidget extends Widget {\n    /**\n     * Construct a new ProdigyIFrameWidget.\n     */\n    constructor(url = defaultProdigyUrl) {\n        super();\n        this.url = url;\n        this.title.label = 'Prodigy';\n        this.title.iconClass = prodigyIconClass;\n        this.title.closable = true;\n        this.addClass('jp-prodigyWidget');\n        // Add jp-IFrame class to keep drag events from being lost to the iframe\n        // See https://github.com/phosphorjs/phosphor/issues/305\n        // See https://github.com/jupyterlab/jupyterlab/blob/master/packages/apputils/style/iframe.css#L17-L35\n        this.addClass('jp-IFrame');\n        this.iframe = document.createElement('iframe');\n        this.iframe.id = 'iframe-' + this.id;\n        this.iframe.src = this.url;\n        this.iframe.setAttribute('baseURI', this.url);\n        this.node.appendChild(this.iframe);\n    }\n}\nclass ProdigyDocsIFrameWidget extends Widget {\n    constructor(url = prodigyDocsUrl) {\n        super();\n        this.url = url;\n        this.title.label = 'Prodigy Docs';\n        this.title.iconClass = prodigyDocsIconClass;\n        this.title.closable = true;\n        this.addClass('jp-prodigyWidget');\n        // Add jp-IFrame class to keep drag events from being lost to the iframe\n        // See https://github.com/phosphorjs/phosphor/issues/305\n        // See https://github.com/jupyterlab/jupyterlab/blob/master/packages/apputils/style/iframe.css#L17-L35\n        this.addClass('jp-IFrame');\n        this.iframe = document.createElement('iframe');\n        this.iframe.id = 'iframe-' + this.id;\n        this.iframe.src = this.url;\n        this.iframe.setAttribute('baseURI', this.url);\n        this.node.appendChild(this.iframe);\n    }\n}\nexport class MainAreaProdigyWidget extends MainAreaWidget {\n    onCloseRequest(msg) {\n        void showDialog({\n            title: 'Possible unsaved changes',\n            body: 'By closing the tab, you may lose unsaved annotations. Don\\'t forget to hit the \"save\" button in the sidebar to submit your work.',\n            buttons: [\n                Dialog.cancelButton({ label: 'No' }),\n                Dialog.okButton({ label: 'Yes' })\n            ]\n        }).then(result => {\n            if (result.button.accept) {\n                this.dispose();\n                return true;\n            }\n            else {\n                return false;\n            }\n        });\n    }\n}\n/**\n * Activate the extension.\n */\nasync function activate(app, palette, restorer, settings, launcher) {\n    var _a;\n    const prodigyConfig = await settings.get('jupyterlab-prodigy:plugin', 'prodigyConfig');\n    const url = ((_a = prodigyConfig.composite) === null || _a === void 0 ? void 0 : _a.url) || defaultProdigyUrl;\n    const tracker = new WidgetTracker({\n        namespace: 'prodigy-widget'\n    });\n    const docsTracker = new WidgetTracker({\n        namespace: 'prodigy-docs-widget'\n    });\n    let widget;\n    let docsWidget;\n    const command = 'prodigy:open';\n    app.commands.addCommand(command, {\n        label: 'Open Prodigy',\n        iconClass: prodigyIconClass,\n        execute: () => {\n            if (!widget || widget.isDisposed) {\n                const content = new ProdigyIFrameWidget(url);\n                widget = new MainAreaProdigyWidget({ content });\n                widget.id = 'jupyterlab-prodigy-widget';\n                widget.title.label = 'Prodigy';\n                widget.title.closable = true;\n            }\n            if (!tracker.has(widget)) {\n                tracker.add(widget);\n            }\n            if (!widget.isAttached) {\n                app.shell.add(widget, 'main', {\n                    mode: 'split-right'\n                });\n            }\n            widget.content.update();\n            app.shell.activateById(widget.id);\n        }\n    });\n    const docsCommand = 'prodigy:open-docs';\n    app.commands.addCommand(docsCommand, {\n        label: 'Open Prodigy Docs',\n        iconClass: prodigyDocsIconClass,\n        execute: () => {\n            if (!docsWidget || docsWidget.isDisposed) {\n                const content = new ProdigyDocsIFrameWidget();\n                docsWidget = new MainAreaWidget({ content });\n                docsWidget.id = 'jupyterlab-prodigy-docs-widget';\n                docsWidget.title.label = 'Prodigy Docs';\n                docsWidget.title.closable = true;\n            }\n            if (!docsTracker.has(docsWidget)) {\n                docsTracker.add(docsWidget);\n            }\n            if (!docsWidget.isAttached) {\n                app.shell.add(docsWidget, 'main', {\n                    mode: 'split-top'\n                });\n            }\n            docsWidget.content.update();\n            app.shell.activateById(docsWidget.id);\n        }\n    });\n    palette.addItem({ command, category: 'Prodigy' });\n    palette.addItem({ command: docsCommand, category: 'Prodigy' });\n    restorer.restore(tracker, {\n        command,\n        name: () => 'prodigy-widget'\n    });\n    restorer.restore(docsTracker, {\n        command: docsCommand,\n        name: () => 'prodigy-docs-widget'\n    });\n    // Launcher\n    launcher.add({\n        command,\n        category: 'Prodigy',\n        rank: -10\n    });\n    launcher.add({\n        command: docsCommand,\n        category: 'Prodigy',\n        rank: -5\n    });\n}\n/**\n * Create jupyterlab-prodigy extension.\n */\nconst extension = {\n    id: 'jupyterlab-prodigy',\n    autoStart: true,\n    requires: [ICommandPalette, ILayoutRestorer, ISettingRegistry, ILauncher],\n    activate: activate\n};\nexport default extension;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_GET_URL_IMPORT___ from \"../node_modules/css-loader/dist/runtime/getUrl.js\";\nimport ___CSS_LOADER_URL_IMPORT_0___ from \"./icon.png\";\nimport ___CSS_LOADER_URL_IMPORT_1___ from \"./docs.svg\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\nvar ___CSS_LOADER_URL_REPLACEMENT_1___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_1___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \":root {\\n  --jp-icon-explosionai: url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \");\\n  --jp-icon-docs: url(\" + ___CSS_LOADER_URL_REPLACEMENT_1___ + \");\\n}\\n\\n.jp-prodigyWidget iframe {\\n  height: 100%;\\n  width: 100%;\\n  /* padding: 20px; */\\n  box-sizing: border-box;\\n}\\n\\n.jp-prodigyIcon {\\n  background-image: var(--jp-icon-explosionai);\\n  background-size: contain;\\n}\\n\\n.jp-docsIcon {\\n  background-image: var(--jp-icon-docs);\\n  background-size: contain;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./style/index.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,8DAAwC;EACxC,uDAAiC;AACnC;;AAEA;EACE,YAAY;EACZ,WAAW;EACX,mBAAmB;EACnB,sBAAsB;AACxB;;AAEA;EACE,4CAA4C;EAC5C,wBAAwB;AAC1B;;AAEA;EACE,qCAAqC;EACrC,wBAAwB;AAC1B\",\"sourcesContent\":[\":root {\\n  --jp-icon-explosionai: url('./icon.png');\\n  --jp-icon-docs: url('./docs.svg');\\n}\\n\\n.jp-prodigyWidget iframe {\\n  height: 100%;\\n  width: 100%;\\n  /* padding: 20px; */\\n  box-sizing: border-box;\\n}\\n\\n.jp-prodigyIcon {\\n  background-image: var(--jp-icon-explosionai);\\n  background-size: contain;\\n}\\n\\n.jp-docsIcon {\\n  background-image: var(--jp-icon-docs);\\n  background-size: contain;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","export default __webpack_public_path__ + \"34d5a3bcec4218e556c14efdbc6d68a1.png\";","import api from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../node_modules/css-loader/dist/cjs.js!./index.css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","module.exports = \"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 46 37'%3E %3Cpath fill='%23583fcf' d='M43 3.1H0V36.9H46.1V3.1H43z'/%3E %3Cpath fill='%23fff' d='M27.6 0H43v30.7H27.6zM3.1 0h15.3v30.7H3.1z'/%3E %3Cpath fill='%23dfdfdf' d='M18.4 30.7H3.1v3.1h18.4v-3.1h-3.1zM39.9 30.7H24.5v3.1h-3v3.1h3.1v-3.1H43v-3.1h-3.1z'/%3E %3Cpath fill='%23eee' d='M3.1 3.1H43v30.7H3.1z'/%3E %3Cpath fill='%23f6f6f6' d='M18.4 3.1v27.6h3.1V0h-3.1v3.1zM24.5 0V30.7h3.1V0h-3.1z'/%3E %3Cpath fill='%23583fcf' d='M15.4 9.2h3v3.1h-3zM30.8 21.5h3v3h-3z'/%3E %3Cpath fill='%23aaa' d='M15.3 21.5h3.1v3.1h-3.1zM9.2 27.6H6.1v3.1h9.3v-3.1H9.2zM15.3 15.3H6.1v3.1H18.4v-3.1h-3.1zM12.3 24.6v-3.1H6.1v3.1h6.2zM27.6 9.2h3.1v3.1h-3.1zM36.9 3.1h-9.3v3.1H39.9V3.1h-3zM36.8 9.2h-3v3.1h6.1V9.2h-3.1zM36.8 15.3h-9.2v3.1H39.9v-3.1h-3.1zM36.8 21.5h3.1v3.1h-3.1zM15.3 3.1H6.1v3.1H18.4V3.1h-3.1zM30.7 27.6h-3.1v3.1h9.3v-3.1h-6.2z'/%3E %3Cpath fill='%23f7b658' d='M9.2 9.2H6.1v3.1h9.3V9.2H9.2zM27.6 21.5h3.1v3.1h-3.1z'/%3E %3C/svg%3E\""],"names":[],"sourceRoot":""}